(()=>{"use strict";window.addEventListener("DOMContentLoaded",(function(){!function(e){const t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),o=document.querySelector("#timer-seconds");function c(e){return e<10?"0"+e:e}setInterval((function(){let r=function(){let t=(new Date(e).getTime()-(new Date).getTime())/1e3,n=Math.floor(t%60),o=Math.floor(t/60%60);return{timeRemaining:t,hours:Math.floor(t/60/60),minutes:o,seconds:n}}();t.textContent=c(r.hours),n.textContent=c(r.minutes),o.textContent=c(r.seconds),r.timeRemaining>0||(t.textContent=c(0),n.textContent=c(0),o.textContent=c(0))}),1e3)}("2020-10-27 13:23:00")})),function(){const e=document.querySelector(".menu"),t=document.querySelector("menu"),n=(document.querySelector(".close-btn"),t.querySelectorAll("ul>li"),()=>{t.classList.toggle("active-menu")});e.addEventListener("click",n),t.addEventListener("click",(e=>{e.target.matches("a")&&n()}))}(),function(){const e=document.querySelector(".popup");document.querySelectorAll(".popup-btn").forEach((n=>n.addEventListener("click",(()=>{setTimeout(t,20),e.style.display="block"}))));const t=()=>{e.children[0].style.transition="1s",e.children[0].style.transform="scale(1)"};e.addEventListener("click",(t=>{let n=t.target;n=n.closest(".popup-content"),n&&!t.target.matches(".popup-close")||(e.style.display="none",e.children[0].style.transform="scale(0)")}))}(),document.getElementById("scrollBtn").addEventListener("click",(e=>{e.preventDefault(),document.querySelector(".service").scrollIntoView({behavior:"smooth"})})),document.querySelector("menu").addEventListener("click",(e=>{e.preventDefault();let t=e.target;t.matches("a")&&!t.matches(".close-btn")&&document.getElementById(t.getAttribute("href").slice(1)).scrollIntoView({behavior:"smooth"})})),function(){const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),n=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{let o=e.target;o=o.closest(".service-header-tab"),o.classList.contains("service-header-tab")&&t.forEach(((e,c)=>{e===o&&(e=>{for(let o=0;o<n.length;o++)e===o?(n[o].classList.remove("d-none"),t[o].classList.add("active")):(n[o].classList.add("d-none"),t[o].classList.remove("active"))})(c)})),o=o.parentNode}))}(),function(){const e=document.querySelectorAll(".portfolio-item"),t=document.querySelector(".portfolio-content"),n=document.querySelector(".portfolio-dots");let o=[];e.forEach((e=>function(){let e=document.createElement("li");e.classList.add("dot"),n.append(e),o.push(e),1===o.length&&e.classList.add("dot-active")}()));let c,r=0;const l=(e,t,n)=>{e[t].classList.remove(n)},a=(e,t,n)=>{e[t].classList.add(n)},s=()=>{l(e,r,"portfolio-item-active"),l(o,r,"dot-active"),r++,r>=e.length&&(r=0),a(e,r,"portfolio-item-active"),a(o,r,"dot-active")},i=(e=3e3)=>{c=setInterval(s,e)};t.addEventListener("click",(t=>{t.preventDefault();let n=t.target;l(e,r,"portfolio-item-active"),l(o,r,"dot-active"),n.matches("#arrow-right")?r++:n.matches("#arrow-left")?r--:n.matches(".dot")&&o.forEach(((e,t)=>{e===n&&(r=t)})),r>=e.length&&(r=0),r<0&&(r=e.length-1),a(e,r,"portfolio-item-active"),a(o,r,"dot-active")})),t.addEventListener("mouseover",(e=>{let t=e.target;(t.matches(".portfolio-btn")||t.matches(".dot"))&&clearInterval(c)})),t.addEventListener("mouseout",(e=>{let t=e.target;(t.matches(".portfolio-btn")||t.matches(".dot"))&&i()})),i(3e3)}(),function(e=100){const t=document.getElementById("calc"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),c=document.querySelector(".calc-day"),r=document.querySelector(".calc-count"),l=document.getElementById("total");t.addEventListener("input",(e=>{let t=e.target;t.value=t.value.replace(/\D/g,"")}));t.addEventListener("change",(t=>{t.target.matches(".calc-item")&&(()=>{let t=0,a=1;const s=n.options[n.selectedIndex].value/100,i=o.value;let u=1;c.value&&(c.value<=5?u*=2:c.value<=10&&(u*=1.5)),r.value>1&&(a+=(r.value-1)/10),s&&i&&(t=Math.floor(e*s*i*a*u)),function(e,t,n,o,c){let r=!1;r=n?setInterval((function(){1*e.innerHTML+o>=t?(e.innerHTML=t,clearInterval(r)):e.innerHTML=1*e.innerHTML+o}),c):setInterval((function(){1*e.innerHTML-o<=t?(e.innerHTML=t,clearInterval(r)):e.innerHTML=1*e.innerHTML-o}),c)}(l,t,!0,100,1)})()}))}(),function(){const e=document.querySelector(".command");let t;e.addEventListener("mouseover",(n=>{n.target.matches(".command__photo")&&(t=n.target.src,n.target.src=n.target.dataset.img),e.addEventListener("mouseout",(e=>{e.target.matches(".command__photo")&&(e.target.src=t)}))}))}(),function(){const e=document.querySelectorAll("form"),t=document.createElement("div");t.style.cssText="\n    font-size: 5 rem;\n    ",e.forEach((e=>e.addEventListener("submit",(o=>{o.preventDefault();const c=o.target;c.matches("#form3")&&(document.querySelector(".popup").style.display="none"),c.appendChild(t);const r=new FormData(e);let l={};r.forEach(((e,t)=>{l[t]=e})),n(l).then((e=>{if(200!==e.status)throw new Error("Status not 200");t.textContent="Спасибо! Мы скоро с Вами свяжемся"})).catch((e=>{console.error(e)})),c.querySelectorAll("input").forEach((function(e){e.value=""}))}))));const n=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}()})();